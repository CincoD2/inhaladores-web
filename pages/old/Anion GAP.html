<body>
    <div style="position:absolute; left:50; top:0; width:700; height:115; background-color: #FFFFFF; ">
    </div>
    <div style="position:absolute; left:470; top:115; width:280; height:70; background-color: #FFFFFF;">
    </div>
    <div style="position:absolute; left:50; top:115; width:420; height:70; background-color: #AEB6BF; color: #FFFFFF">
    </div>

    <form name="anion" action="" onSubmit="return false;">
        <div align="right" style="position:absolute; left:60; top:10; width:120; height:24; font-size: 14px; font-style: normal; font-weight:bold; text-align:right;font-family: Arial">Sodio (Na<sup>+</sup>):</div>
        <div style="position:absolute; left:185; top:10; width:50; height:24; font-size: 16px; font-style: normal; font-weight:bold;"><input type="text" name="sodio" size="5" style="width:50;" class="newr" /></div>
        <div style="position:absolute; left:240; top:10; width:94; height:24; font-size: 16px; font-style: normal; font-weight:bold;">
            <select name="Unisodio" size="1" class="newr">
                <option selected="selected" value="uno">&nbsp;mEq/l&nbsp;</option>
                <option value="dos">&nbsp;mmol/l&nbsp;</option>
                <option value="tres">&nbsp;mEq/100 ml&nbsp;</option>
                <option value="cuatro">&nbsp;mmol/100 ml&nbsp;</option>
                <option value="cinco">&nbsp;mg/100 ml&nbsp;</option>
                <option value="seis">&nbsp;mg/l&nbsp;</option>
            </select>
        </div>

        <div align="right" style="position:absolute; left:60; top:40; width:120; height:24; font-size: 14px; font-style: normal; font-weight:bold; text-align:right;font-family: Arial">Potasio (K<sup>+</sup>):</div>
        <div style="position:absolute; left:185; top:40; width:50; height:24; font-size: 16px; font-style: normal; font-weight:bold;"><input type="text" name="potasio" size="5" style="width:50;" class="newr" /></div>
        <div style="position:absolute; left:240; top:40; width:40; height:24; font-size: 16px; font-style: normal; font-weight:bold;">
            <select name="Unipotasio" size="1" class="newr">
                <option selected="selected" value="uno">&nbsp;mEq/l&nbsp;</option>
                <option value="dos">&nbsp;mmol/l&nbsp;</option>
                <option value="tres">&nbsp;mEq/100 ml&nbsp;</option>
                <option value="cuatro">&nbsp;mmol/100 ml&nbsp;</option>
                <option value="cinco">&nbsp;mg/100 ml&nbsp;</option>
                <option value="seis">&nbsp;mg/l&nbsp;</option>
            </select>
        </div>
        <div align="right" style="position:absolute; left:100; top:70; width:200; height:24; font-size: 14px; font-style: normal;  text-align:right;font-family: Arial">(La cifra de potasio es opcional)</div>

        <div align="right" style="position:absolute; left:380; top:10; width:160; height:24; font-size: 14px; font-style: normal; font-weight:bold; text-align:right;font-family: Arial">Cloro (Cl<sup>-</sup>):</div>
        <div style="position:absolute; left:545; top:10; width:50; height:24; font-size: 16px; font-style: normal; font-weight:bold;"><input type="text" name="cloro" size="5" style="width:50;" class="newr" /></div>
        <div style="position:absolute; left:600; top:10; width:85; height:24; font-size: 16px; font-style: normal; font-weight:bold;">
            <select name="Unicloro" size="1" class="newr">
                <option selected="selected" value="uno">&nbsp;mEq/l&nbsp;</option>
                <option value="dos">&nbsp;mmol/l&nbsp;</option>
                <option value="tres">&nbsp;mEq/100 ml&nbsp;</option>
                <option value="cuatro">&nbsp;mmol/100 ml&nbsp;</option>
                <option value="cinco">&nbsp;mg/100 ml&nbsp;</option>
                <option value="seis">&nbsp;mg/l&nbsp;</option>
            </select>
        </div>

        <div align="right" style="position:absolute; left:380; top:40; width:160; height:24; font-size: 14px; font-style: normal; font-weight:bold; text-align:right;font-family: Arial">Bicarbonato (HCO<sub>3</sub><sup>-</sup>):</div>
        <div style="position:absolute; left:545; top:40; width:50; height:24; font-size: 16px; font-style: normal; font-weight:bold;"><input type="text" name="bicarbonato" size="5" style="width:50;" class="newr" /></div>
        <div style="position:absolute; left:600; top:40; width:85; height:24; font-size: 16px; font-style: normal; font-weight:bold;">
            <select name="Unibicarbonato" size="1" class="newr">
                <option selected="selected" value="uno">&nbsp;mEq/l&nbsp;</option>
                <option value="dos">&nbsp;mmol/l&nbsp;</option>
                <option value="tres">&nbsp;mEq/100 ml&nbsp;</option>
                <option value="cuatro">&nbsp;mmol/100 ml&nbsp;</option>
                <option value="cinco">&nbsp;mg/100 ml&nbsp;</option>
                <option value="seis">&nbsp;mg/l&nbsp;</option>
            </select>
        </div>

        <div align="right" style="position:absolute; left:60; top:120; width:170; height:24; font-size: 14px; font-style: normal; font-weight:bold; text-align:right;font-family: Arial">Brecha ani&oacute;nica:</div>
        <div style="position:absolute; left:235; top:120; width:120; height:24; font-size: 16px; font-style: normal; font-weight:bold;"><input type="text" name="result" size="15" style="width:120;" class="newr" readonly="readonly" /></div>
        <div style="position:absolute; left:362; top:120; width:100; height:24; font-size: 14px; font-style: normal; font-weight:bold; text-align:left;font-family: Arial">mEq/l</div>

        <div align="right" style="position:absolute; left:60; top:150; width:170; height:24; font-size: 14px; font-style: normal; font-weight:bold; text-align:right;font-family: Arial">Valoraci&oacute;n:</div>
        <div style="position:absolute; left:235; top:150; width:196; height:24; font-size: 16px; font-style: normal; font-weight:bold;"><input type="text" name="result1" size="26" style="width:196;" class="newr" readonly="readonly" /></div>

        <div style="position:absolute; left:565; top:92; width:165; height:24; font-size: 16px; font-style: normal; font-weight:bold;"><button onClick="javascript:Anion(); return false;" style="width:165;"><span style="font-style:normal; font-weight:bold; color:#000000; font-size:14px;">Calcular</span></button></div>
        <div style="position:absolute; left:565; top:121; width:165; height:24; font-size: 16px; font-style: normal; font-weight:bold;"><button onClick="javascript:Borrar(); return false;" style="width:165;"><span style="font-style:normal; font-weight:bold; color:#000000; font-size:14px;">Borrar los datos</span></button></div>
        <div style="position:absolute; left:565; top:150; width:165; height:24; font-size: 16px; font-style: normal; font-weight:bold;"><button onClick="javascript:window.close();" style="width:165;"><span style="font-style:normal; font-weight:bold; color:#000000; font-size:14px;">Cerrar</span></button></div>


    </form>
    <div style="position:absolute; left:750; top:180; width:50; height:20;"></div>

    <script language="javascript" type="text/javascript">
        function Anion() {
            if (document.forms[0].sodio.value == "" || document.forms[0].cloro.value == "" || document.forms[0].bicarbonato.value == "") {
                alert("Faltan datos");
            } else {
                sod = document.forms[0].sodio.value;
                pot = document.forms[0].potasio.value;
                clo = document.forms[0].cloro.value;
                bic = document.forms[0].bicarbonato.value;
                sod = CambioComa(sod);
                pot = CambioComa(pot);
                clo = CambioComa(clo);
                bic = CambioComa(bic);
                if (Comprobar(sod) || (pot != "" && Comprobar(pot)) || Comprobar(clo) || Comprobar(bic)) {
                    alert("Datos incorrectos");
                } else {
                    switch (document.forms[0].Unisodio.value) {
                        case "uno":
                        case "dos":
                            sod = sod;
                            break;
                        case "tres":
                        case "cuatro":
                            sod = sod * 10;
                            break;
                        case "cinco":
                            sod = sod / 2.299;
                            break;
                        case "seis":
                            sod = sod / 22.99;
                            break;
                    }
                    if (pot != "") {
                        switch (document.forms[0].Unipotasio.value) {
                            case "uno":
                            case "dos":
                                pot = pot;
                                break;
                            case "tres":
                            case "cuatro":
                                pot = pot * 10;
                                break;
                            case "cinco":
                                pot = pot / 3.91;
                                break;
                            case "seis":
                                pot = pot / 39.1;
                                break;
                        }
                    }
                    switch (document.forms[0].Unicloro.value) {
                        case "uno":
                        case "dos":
                            clo = clo;
                            break;
                        case "tres":
                        case "cuatro":
                            clo = clo * 10;
                            break;
                        case "cinco":
                            clo = clo / 3.545;
                            break;
                        case "seis":
                            clo = clo / 35.45;
                            break;
                    }
                    switch (document.forms[0].Unibicarbonato.value) {
                        case "uno":
                        case "dos":
                            bic = bic;
                            break;
                        case "tres":
                        case "cuatro":
                            bic = bic * 10;
                            break;
                        case "cinco":
                            bic = bic / 6.1017;
                            break;
                        case "seis":
                            bic = bic / 61.017;
                            break;
                    }
                    if (pot != "") {
                        total1 = sod * 1 + pot * 1;
                    } else {
                        total1 = sod * 1;
                    }
                    total2 = clo * 1 + bic * 1;
                    total = total1 - total2;
                    document.forms[0].result.value = total;
                    if (pot != "") {
                        if (total < 12) {
                            document.forms[0].result1.value = "valor descendido";
                        } else {
                            if (total < 20) {
                                document.forms[0].result1.value = "valor normal";
                            } else {
                                document.forms[0].result1.value = "valor elevado";
                            }
                        }
                    } else {
                        if (total < 8) {
                            document.forms[0].result1.value = "valor descendido";
                        } else {
                            if (total < 16) {
                                document.forms[0].result1.value = "valor normal";
                            } else {
                                document.forms[0].result1.value = "valor elevado";
                            }
                        }
                    }
                }
            }
        }

        function Comprobar(numer) {
            var todo = numer;
            k = 0;
            var numeros = "0123456789.";
            for (i = 0; i < todo.length; i++) {
                if (todo.charAt(i) == ".") {
                    k++;
                }
                if (k > 1) {
                    return true;
                }
            }
            for (i = 0; i < todo.length; i++) {
                for (j = 0; j < numeros.length; j++) {
                    if (todo.charAt(i) == numeros.charAt(j)) {
                        break;
                    }
                }
                if (j == numeros.length) {
                    return true;
                }
            }
            return false;
        }

        function CambioComa(num) {
            num2 = "";
            for (i = 0; i < num.length; i++) {
                if (num.charAt(i) == ",") {
                    num2 = num2 + ".";
                } else {
                    if (num.charAt(i) == " ") {
                        num2 = num2;
                    } else {
                        num2 = num2 + num.charAt(i);
                    }
                }
            }
            return num2;
        }

        function Borrar() {
            document.forms[0].sodio.value = "";
            document.forms[0].Unisodio.value = "uno";
            document.forms[0].potasio.value = "";
            document.forms[0].Unipotasio.value = "uno";
            document.forms[0].cloro.value = "";
            document.forms[0].Unicloro.value = "uno";
            document.forms[0].bicarbonato.value = "";
            document.forms[0].Unibicarbonato.value = "uno";
            document.forms[0].result.value = "";
            document.forms[0].result1.value = "";
        }

    </script>

</body>
